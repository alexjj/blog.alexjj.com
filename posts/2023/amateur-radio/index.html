<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alex Johnstone">
<meta name="dcterms.date" content="2023-05-14">

<title>Alex Johnstone - Entering the world of Amateur Radio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "?",
    "H"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Alex Johnstone - Entering the world of Amateur Radio">
<meta property="og:description" content="What a rabbit hole">
<meta property="og:image" content="https://alexjj.com/posts/2023/amateur-radio/parts-thumb.JPEG">
<meta property="og:site_name" content="Alex Johnstone">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../img/cat-logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Alex Johnstone</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../notes.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../index.xml"> <i class="bi bi-rss-fill" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://wiki.alexjj.com"> <i class="bi bi-globe" role="img">
</i> 
<span class="menu-text">Wiki</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://gm5alx.uk"> <i class="bi bi-broadcast-pin" role="img">
</i> 
<span class="menu-text">GM5ALX</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Entering the world of Amateur Radio</h1>
<p class="subtitle lead">What a rabbit hole</p>
  <div class="quarto-categories">
    <div class="quarto-category">Radio</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alex Johnstone </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 14, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="outside.JPEG" class="lightbox" data-gallery="quarto-lightbox-gallery-1" data-glightbox="description: .lightbox-desc-1" title="Radio setup outside"><img src="outside.JPEG" title="Radio Alfresco" class="img-fluid figure-img" alt="Radio setup outside"></a></p>
<figcaption>Radio setup outside</figcaption>
</figure>
</div>
<p>Several years ago, when we were living in California, I started thinking about getting my amateur radio licence. I don’t remember why I started on this, but it seemed like something I’d enjoy and be interested in. I didn’t end up doing anything, as you had to sit exams at test centres and it wasn’t convenient. I soon forgot about it and did nothing more. Last summer, the same thoughts occurred to me again, not sure why, but I started looking into radio. This time what it takes to be licenced in the UK.</p>
<p>All that resulted in passing my foundation licence in December 2022 in the online exams by the <a href="https://rsgb.org/">RSGB</a>. I’d spoken to a friend about it in the summer, and he got interested. We both did the Essexham foundation training course, which runs online for a few weeks. He ended up passing first, which encouraged me to get on with booking my exam.</p>
<p>The content isn’t difficult, but there’s a lot of specific things you just need to remember. The exams “don’t have trick questions” but often have word games or a particular way of asking questions which can make them harder than you’d think. I probably should’ve read the foundation manual as well.</p>
<p>It took until January before I actually got my licene from ofcom, the postal strikes and christmas holidays meant it took a while. I then got to pick my callsign online. There weren’t many options to pick from and so ended up with something that, to me, sounded reasonable - MM7RVP. My callsign is M7RVP, but being in Scotland means I have to put in the other M. People in England don’t have to use any letters (except for intermediate licence), which is a little annoying but I suppose the UK couldn’t have too many designated letters.</p>
<p>I then did nothing for 4 months. Well, not nothing but I didn’t use my callsign on the air. I mostly debated what I wanted to buy - if anything. Radio transceivers (transmitters and receivers in one) aren’t that cheap. Probably not a high volume electronics item like computers and TVs, so are still pricey. Used gear is cheaper but after the initial depreciation, they then to hold their prices well. My friend and I were in the same boat, what do we get, is it worth it etc. He did buy a VHF/UHF setup, which is good for local contacts, but what’s the most fun is HF. HF is the frequency range (3-30 MHz) that can go all around the world in the ionosphere.</p>
<p>Like most electronic things, there is no one perfect device. Perhaps the £10,000 one could be classed as that, but it’s £10k and therefore not perfect 😅. We both had a similar shortlist of radios and spent many evenings debating the trade offs of them.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="G90.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" data-glightbox="description: .lightbox-desc-2" title="My first radio: Xiegu G90"><img src="G90.jpg" title="My first radio: Xiegu G90" class="img-fluid figure-img" alt="My first radio: Xiegu G90"></a></p>
<figcaption>My first radio: Xiegu G90</figcaption>
</figure>
</div>
<p>One day I saw one on the UK’s used <a href="https://www.hamradiodeals.co.uk/">ham radio forum</a>, and that sold it for me. It was in great condition and I could easily sell it for what I paid for it, £350, if I needed to. I bought a Xiegu G90. This is a chinese brand radio, has a small but usable screen with a waterfall and does 20W on the HF bands. My foundation licence only allows 10W so it’s ideal. I was all sorted. Well…with a radio, I still needed an antenna.</p>
<p>Picking a radio is very easy in comparison to picking an antenna. I think you never really pick one, you just make one, try it, and then make more and try them. Maybe you find some are better than others, or maybe they’re just different. I don’t know yet, as I’ve only had one so far but picking that was tricky.</p>
<p>There are so many factors in picking an antenna, and it really depends on the space you have and what you’re willing to do. My aim was easy to install and would be decent enough to get me going.</p>
<p>To cut a long story short, I went with what’s called an end fed half wave (EFHW) antenna, for the 40m band and up, making it 20m of wire. It works well on many bands, and the internal tuner on the Xiegu even gets a couple of others out of it.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="parts-thumb.JPEG" class="lightbox" data-gallery="quarto-lightbox-gallery-3" data-glightbox="description: .lightbox-desc-3" title="Ready to put up the antenna"><img src="parts-thumb.JPEG" title="Ready to put up the antenna" class="img-fluid figure-img" alt="Ready to put up the antenna"></a></p>
<figcaption>Ready to put up the antenna</figcaption>
</figure>
</div>
<p>Armed with a big mug of tea, I was ready to put up the antenna. I would attach to the balcony on the first floor, and to a pole at the end of the garden. Or so I planned. Turned out the pole I bought was quite weak and bendy.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="bendy.JPEG" class="lightbox" data-gallery="quarto-lightbox-gallery-4" data-glightbox="description: .lightbox-desc-4" title="A bit too bendy"><img src="bendy.JPEG" title="A bit too bendy" class="img-fluid figure-img" alt="A bit too bendy"></a></p>
<figcaption>A bit too bendy</figcaption>
</figure>
</div>
<p>The pole is 6 m tall but with the flex, the antenna was only about 3-3.5m off the ground. (I later read it would be better to thread it through a loop on the pole and tie it off on the ground, so that the pole wasn’t taking the full horizontal force. I did try that, but it wasn’t much better.)</p>
<p>I thought I could raise it up by tying the pole to the nearby tree - this tree is unfortunately still quite small else I’d have used it in the first place.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="oops.JPG" class="lightbox" data-gallery="quarto-lightbox-gallery-5" data-glightbox="description: .lightbox-desc-5" title="Oh Dear…"><img src="oops.JPG" title="Oh Dear..." class="img-fluid figure-img" alt="Oh Dear…"></a></p>
<figcaption>Oh Dear…</figcaption>
</figure>
</div>
<p>A little too much force it seems…I took down the pole and ended up tying the antenna to the tree, whilst the tree is small it could still hold the weight of the line and I could get it moderately high. I ordered a space section, so the pole will be for a portable setup that I’ll make one day.</p>
<p>The antenna is about 4m off the ground at the house end and almost 3 at the tree end. Not the greatest but will do. The closer it is to the ground the more signal is absorbed by the ground and the higher the remaining signal gets sent into the air. This isn’t great for long distance as a lot of the signal will get lost or only do one bounce in the atmosphere. However, to get it higher I’ll need some serious pole solution.</p>
<p>So how has it been? Pretty fun! I’ve spoken to people all over Europe, into Canada and the USA. I can often hear signals from all around the world - Falklands, Australia, Japan, Indonesia, South Africa, etc. - but they can’t hear me.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="qsos.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" data-glightbox="description: .lightbox-desc-6" title="Voice Contacts Made"><img src="qsos.png" title="Voice Contacts Made" class="img-fluid figure-img" alt="Voice Contacts Made"></a></p>
<figcaption>Voice Contacts Made</figcaption>
</figure>
</div>
<p>I’ve used the digital mode, FT8, which means I connect my computer to the radio and it communicates with other computers via radio. This doesn’t need nearly as much signal compared to noise to make a contact compared to voice contacts. The best part is that you can look up online (on <a href="https://pskreporter.info/">PSK Reporter</a>) who has heard your signal. So you don’t need to make a contact with them to know how far your signal has gone. I’ve been heard across the world with this, and have made real contacts with Australia, Brazil and Japan.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="psk.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-7" data-glightbox="description: .lightbox-desc-7" title="Who’s heard me? The pins with times are who has"><img src="psk.jpg" title="Who's heard me? The pins with times are who has" class="img-fluid figure-img" alt="Who’s heard me? The pins with times are who has"></a></p>
<figcaption>Who’s heard me? The pins with times are who has</figcaption>
</figure>
</div>
<p>Digital is nice to do whilst doing something else on the computer, and it is fun when you see someone far away has heard you, but by far the most fun is talking to people. Sometimes it’s a quick signal report and move on, and other times we get into chats about gear (most often) and local things going on. Often I’ll listen to others chatting and enjoy that just as much. Each evening you go on, you never know who’s going to be there and who’s going to hear you (the signal propagation relies on solar activity and is different each day on each band). I could (and have!) spend hours on the radio. So much so that I’ve not had time to do anything else - no photography, no blog posts, not finished the mac mini G3 build, and probably plenty of other things.</p>
<p>I did manage to tear myself away from the radio to study for the intermediate licence - this is the next level in the UK system and lets me use 50W and a few more bands. I passed this a few weeks ago, and so have a new callsign, 2M0RVM. It takes a while to get used to saying the new sign and sometimes I mix up the old and new, especially the RVP vs RVM. Maybe I should’ve picked something completely different but I liked the sound of RVM, and finding a free one is tricky, there isn’t an up to date list anywhere (even the last freedom of information request list from January 2023 was significantly out of date).</p>
<p>Now I’m debating the antenna situation. Pole or not, a vertical, something else. My wife isn’t keen on the wire going across the garden but equally doesn’t like the sound of a 10m pole! I have started to look into satellites too, at least a dish is more discrete. I’m also thinking of setting up a portable antenna for trips away.</p>
<p>Plus I have the full licence still to get. 📚 (Update July 2023: I’m now a full holder!)</p>
<p>Look me up on <a href="https://www.qrz.com/db/GM5ALX">QRZ</a>.</p>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Radio setup outside</span>
<span class="glightbox-desc lightbox-desc-2">My first radio: Xiegu G90</span>
<span class="glightbox-desc lightbox-desc-3">Ready to put up the antenna</span>
<span class="glightbox-desc lightbox-desc-4">A bit too bendy</span>
<span class="glightbox-desc lightbox-desc-5">Oh Dear…</span>
<span class="glightbox-desc lightbox-desc-6">Voice Contacts Made</span>
<span class="glightbox-desc lightbox-desc-7">Who’s heard me? The pins with times are who has</span>
</div>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/alexjj\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/alexjj/alexjj.com/blob/main/posts/2023/amateur-radio/index.md" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"selector":".lightbox","descPosition":"bottom","loop":false,"closeEffect":"zoom","openEffect":"zoom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>